$XONSH_CAPTURE_ALWAYS = True
$XONSH_SUBPROC_CAPTURED_PRINT_STDERR = True
$XONSH_SHOW_TRACEBACK = True

import logging

fmt = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
datefmt = '%m/%d/%Y %H:%M:%S'
logging.basicConfig(level=logging.DEBUG, format=fmt, datefmt=datefmt)
logging.debug("Loading .xonshrc...")

# $ALIAS_COMPLETIONS_OPTIONS_BY_DEFAULT = True
$AUTO_CD = True
$AUTO_PUSHD = True
# # $AUTO_SUGGEST_IN_COMPLETIONS = True
# # $CMD_COMPLETIONS_SHOW_DESC = True
# # $COMMANDS_CACHE_SAVE_INTERMEDIATE = True
# # $COMPLETION_IN_THREAD = True
# # $COMPLETIONS_CONFIRM = True
$COMPLETIONS_MENU_ROWS = 10
# $DOTGLOB = True
# # $ENABLE_ASYNC_PROMPT = True
# $MOUSE_SUPPORT = True
# $PUSHD_SILENT = True
# # $UPDATE_COMPLETIONS_ON_KEYPRESS = True
$XONSH_AUTOPAIR = True
$XONSH_CTRL_BKSP_DELETION = True
$XONSH_HISTORY_BACKEND = "sqlite"
# $XONSH_HISTORY_MATCH_ANYWHERE = True
# $XONSH_STORE_STDOUT = True
# $XONSH_SUBPROC_CAPTURED_PRINT_STDERR = True

# XONSH WIZARD START
source-bash "echo loading xonsh foreign shell" --suppress-skip-message
# XONSH WIZARD END

# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
if !(test -f "/home/brl0/micromamba/bin/conda"):
    import sys as _sys
    from types import ModuleType as _ModuleType
    _mod = _ModuleType("xontrib.conda",
                    "Autogenerated from $(/home/brl0/micromamba/bin/conda shell.xonsh hook)")
    __xonsh__.execer.exec($("/home/brl0/micromamba/bin/conda" "shell.xonsh" "hook"),
                        glbs=_mod.__dict__,
                        filename="$(/home/brl0/micromamba/bin/conda shell.xonsh hook)")
    _sys.modules["xontrib.conda"] = _mod
    del _sys, _mod, _ModuleType
# <<< conda initialize <<<

xontrib load abbrevs
xontrib load bashisms
xontrib load coreutils
xontrib load whole_word_jumping

# execx($(starship init xonsh))

xontrib load clp
xontrib load ergopack
xontrib load output_search
xontrib load prompt_bar
xontrib load prompt_starship

# 20250114
xontribs = [
    "xlsd",
    "pipeliner",
    "z",
    "sh",
    "jupyter",
]
for _x in xontribs:
    xontrib load $_x

# $THREAD_SUBPROCS = True
logging.debug("Done loading .xonshrc.")
